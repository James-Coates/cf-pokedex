{"version":3,"sources":["node_modules/@babel/runtime/helpers/typeof.js","js/scripts.js"],"names":["repoAPI","repo","pokemonDetails","apiUrl","publicAPI","getAll","initList","fetch","then","response","json","itemArray","results","forEach","item","repoItem","name","detailsUrl","url","addToRepo","push","console","log","catch","err","loadDetails","extractTypes","types","height","map","type","sprite","sprites","front_default","getDetails","domAPI","$itemList","document","getElementById","$detailsSection","$searchInput","querySelector","initDOM","appendItemListItems","createItemsList","addEventListener","e","innerHTML","query","target","value","toLowerCase","filteredArray","filter","includes","arr","Array","isArray","createListItem","elementArray","element","appendChild","createButton","itemButton","createElement","buttonText","classList","add","innerText","fetchDetails","returned","remove","createDetailsSection","detailSection","createImageElement","imageBoxElement","imageElement","setAttribute","createDetailsBody","detailsBody","detailsName","otherBox","createOtherDetailElement","label","values","otherDetailElement","labelElement","valueBoxElement","valueElement"],"mappings":"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","file":"scripts.e5258da0.js","sourceRoot":"..","sourcesContent":["function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","(function pokeApp() {\n  var repoAPI = (function repoAPI() {\n    var repo = [];\n    var pokemonDetails = {};\n    const apiUrl = 'https://pokeapi.co/api/v2/pokemon/?limit=150';\n    \n    var publicAPI = {getAll, initList, loadDetails, getDetails};\n\n    return publicAPI;\n\n    // *************************\n    function addToRepo(item) {\n      if (typeof item == 'object' && !null) {\n        repo.push(item);\n      } else {\n        console.log('Must be an object');\n      }\n    }\n\n    function getAll() {\n      return repo;\n    }\n\n    function getDetails() {\n      return pokemonDetails;\n    }\n\n    function initList() {\n      return fetch(apiUrl)\n        .then(function toJson(response) {\n          return response.json();\n        })\n        .then(function storeList(json) {\n          var itemArray = json.results;\n          itemArray.forEach(function storeItem(item) {\n            let repoItem = {\n              name: item.name,\n              detailsUrl: item.url,\n            };\n            addToRepo(repoItem);\n          });\n        })\n        .catch(function handleError(err) {\n          console.log(err)\n        });\n    }\n\n    function loadDetails(url) {\n      return fetch(url)\n        .then(function toJson(response) {\n          // console.log(response.json());\n          return response.json();\n        })\n        .then(function storeItemDetails(json) {\n          console.log(json);\n          pokemonDetails = {\n            name: json.name,\n            height: json.height,\n            types: extractTypes(json.types),\n            sprite: json.sprites.front_default,\n          }\n          console.log(pokemonDetails);\n        })\n        .catch(function handleError(err) {\n          console.log(err)\n        });\n    }\n\n    function extractTypes(types) {\n      return types.map(function mapType(type) {\n        return type.type.name;\n      });\n    }\n  })();\n\n  var domAPI = (function domAPI() {\n    // DOM elements\n    var $itemList = document.getElementById('items-container'); \n    var $detailsSection = document.getElementById('details-section');\n    var $searchInput = document.querySelector('.search');\n\n    var publicAPI = {initDOM};\n    return publicAPI;\n\n    // *************************\n\n    function initDOM() {\n      // Initialise item list\n      var itemArray = repoAPI.getAll();\n      var itemList = createItemsList(itemArray);\n      appendItemListItems(itemList);\n      // Add event listeners\n      $searchInput.addEventListener('keyup', function handleSearchInput(e) {\n        $itemList.innerHTML = ''\n        var query = e.target.value.toLowerCase();\n        var filteredArray = itemArray.filter(function findMatches(item) {\n          return item.name.includes(query);\n        });\n        appendItemListItems(createItemsList(filteredArray));\n      });\n    }\n\n    function createItemsList(arr) {\n      if (!Array.isArray(arr)) {\n        console.log('List items must be produced from an array');\n      }\n      return arr.map(createListItem);\n    }\n\n    function appendItemListItems(elementArray) {\n      elementArray.forEach(function appendElement(element) {\n        $itemList.appendChild(element);\n      });\n    }\n\n    function createListItem(item) {\n      if (typeof item == 'object' && !null) {\n        return createButton(item);\n      } else {\n        console.log('List items must be objects');\n      }\n    }\n\n    function createButton(item) {\n      var {name, detailsUrl} = item;\n      var itemButton = document.createElement('button');\n      var buttonText = document.createElement('p');\n      itemButton.appendChild(buttonText);\n      itemButton.classList.add('item');\n      buttonText.innerText = name;\n      itemButton.addEventListener('click', function handleClick() {\n        fetchDetails(detailsUrl);\n      });\n      return itemButton;\n    }\n\n    function fetchDetails(url) {\n      repoAPI.loadDetails(url)\n        .then(function replaceDOM(returned) {\n          document.querySelector('.details-container').remove();\n          $detailsSection.appendChild(createDetailsSection(repoAPI.getDetails()));\n        })\n        .catch(function handleErr(err) {\n          console.log(err);\n        })\n    }\n\n    function createDetailsSection(item) {\n      const { sprite, name, types, height } = item;\n\n      var detailSection = document.createElement('div');\n      detailSection.classList.add('details-container');\n\n      detailSection.appendChild(createImageElement(item.sprite));\n      detailSection.appendChild(createDetailsBody(item));\n\n      return detailSection;\n    }\n\n    function createImageElement(sprite) {\n      var imageBoxElement = document.createElement('div');\n      imageBoxElement.classList.add('image-box');\n\n      var imageElement = document.createElement('img');\n      imageElement.setAttribute('src', sprite);\n      imageBoxElement.appendChild(imageElement);\n\n      return imageBoxElement;\n    }\n\n    function createDetailsBody(item) {\n      var detailsBody = document.createElement('div');\n      detailsBody.classList.add('details-body');\n\n      var detailsName = document.createElement('h2');\n      detailsName.classList.add('details-name');\n      detailsName.innerText = item.name;\n      detailsBody.appendChild(detailsName);\n      \n      var otherBox = document.createElement('div');\n      otherBox.classList.add('other-box');\n      detailsBody.appendChild(otherBox);\n\n      otherBox.appendChild(createOtherDetailElement('height', item.height));\n      otherBox.appendChild(createOtherDetailElement('types', item.types));\n\n      return detailsBody;\n    }\n\n    function createOtherDetailElement (label, values) {\n      var otherDetailElement = document.createElement('div');\n      otherDetailElement.classList.add('other-detail');\n\n      var labelElement = document.createElement('h3');\n      otherDetailElement.classList.add('other-detail__label');\n      labelElement.innerText = label;\n\n      var valueBoxElement = document.createElement('div');\n\n      // TODO not the best way of doing this\n      if (Array.isArray(values)) {\n        values.forEach(function createValueElement(value) {\n          let valueElement = document.createElement('p');\n          valueElement.classList.add('other-detail__value');\n          valueElement.innerText = value;\n          valueBoxElement.appendChild(valueElement);\n        });\n      } else {\n        let valueElement = document.createElement('p');\n          valueElement.classList.add('other-detail__value');\n          valueElement.innerText = values;\n          valueBoxElement.appendChild(valueElement);\n      }\n      \n      otherDetailElement.appendChild(labelElement);\n      otherDetailElement.appendChild(valueBoxElement);\n      return otherDetailElement;\n    }\n\n    function toggleScreen() {\n      document.querySelector('.wrapper').classList.toggle('wrapper-toggle');\n    }\n\n    function filterList(query) {\n      return repoAPI.getAll.filter(function matchQuery(item) {\n        item.name.includes(query);\n      });\n    }\n\n  })();\n  \n  repoAPI.initList()\n    .then(domAPI.initDOM);\n\n})();\n\n/*\n\n(function() {\n  const searchInput = document.querySelector('.search-bar__input');\n\n  const pokemonRepository = (function() {\n    const repository = [];\n    const apiUrl = 'https://pokeapi.co/api/v2/pokemon/?limit=150';\n\n    // Repository Functions\n    // ********************\n\n    function add(addedPokemon) {\n      if (typeof addedPokemon === 'object') {\n        repository.push(addedPokemon);\n      } else {\n        // eslint-disable-next-line no-console\n        console.log('Must be an object');\n      }\n    }\n\n    function getAll() {\n      return repository;\n    }\n\n    function loadList() {\n      return fetch(apiUrl)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(json) {\n          // access results object within json and iterate\n          json.results.forEach(function(item) {\n            const pokemon = {\n              name: item.name,\n              detailsUrl: item.url,\n            };\n            add(pokemon);\n          });\n        })\n        .catch(function(e) {\n          // eslint-disable-next-line no-console\n          console.error(e);\n        });\n    }\n\n    function extractTypes(types) {\n      const extractedTypes = [];\n      types.forEach(type => {\n        extractedTypes.push(type.type);\n      });\n      return extractedTypes;\n    }\n\n    async function loadDetails(url) {\n      const response = await fetch(url);\n      const data = await response.json();\n      const item = { \n        name: data.name,\n        imageUrl: data.sprites.front_default,\n        types: extractTypes(data.types),\n        height: data.height / 10\n      };\n      return item;\n    }\n\n    return {\n      add,\n      getAll,\n      // search: search, // #TODO\n      loadList,\n      loadDetails,\n    };\n  })();\n\n  const pageMethods = (pageMethods => {\n    let itemList = [];\n    let itemShow = {};\n\n    // DOM Elements\n    const $itemContainer = document.getElementById('items-container');\n    const $detailsSection = document.querySelector('.details-section');\n    const $backButton = document.querySelector('.back');\n    const $search = document.querySelector('.search');\n\n    const createElement = (element, classList, content, attr) => {\n      const el = document.createElement(element);\n      classList.forEach((c) => {\n        el.classList.add(c);\n      });\n      if (content) {\n        el.textContent = content;\n      }\n      if (attr) {\n        el.setAttribute(attr.name, atr.value)\n      }\n      return el\n    }\n\n    const createImageElement = (src, classList) => {\n      const el = document.createElement('img');\n      classList.forEach((c) => {\n        el.classList.add(c);\n      });\n      el.setAttribute('src', src);\n      return el\n    }\n\n    const createOtherDetailElement = (label, values) => {\n      const otherDetailElement = createElement('div', ['other-detail']);\n      const labelElement = createElement('h3', ['other-detail__label'], label);\n      const valueBoxElement = createElement('div', ['other-detail__label']);\n      values.forEach((value) => {\n        const valueElement = createElement('p', ['other-detail__value'], value);\n        valueBoxElement.appendChild(valueElement);\n      });\n      otherDetailElement.appendChild(labelElement);\n      otherDetailElement.appendChild(valueBoxElement);\n      return otherDetailElement;\n    }\n\n    const createDetailsSection = (item) => {\n      const { imageUrl, name, types, height } = item;\n      const detailSection = createElement('div', ['details-container'])\n      const imageBoxElement = createElement('div', ['image-box']);\n      const imageElement = createImageElement(imageUrl, ['details-image']);\n      imageBoxElement.appendChild(imageElement);\n\n      const detailsBodyElement = createElement('div', ['details-body']);\n      const detailsName = createElement('h2', ['details-name'], name);\n      const otherBox = createElement('div', ['other-box']);\n      const detailsTypes = createOtherDetailElement('types', types.map((type) => type.name));\n      const detailsHeight = createOtherDetailElement('height', [height]);\n\n      otherBox.appendChild(detailsTypes);\n      otherBox.appendChild(detailsHeight);\n\n      detailsBodyElement.appendChild(detailsName);\n      detailsBodyElement.appendChild(otherBox);\n\n      detailSection.appendChild(imageBoxElement);\n      detailSection.appendChild(detailsBodyElement);\n      return detailSection;\n    }\n\n    const loadItem = async (item) => {\n      return await pokemonRepository.loadDetails(item.detailsUrl);\n    }\n\n    const addItemButton = (item) => {\n      const itemButton = createElement('button', ['item'])\n      const itemText = createElement('p', ['item-name'], item.name)\n      itemButton.appendChild(itemText);\n      itemButton.addEventListener('click', async function() {\n        itemShow = await loadItem(item);\n        document.querySelector('.details-container').remove();\n        $detailsSection.appendChild(createDetailsSection(itemShow));\n        toggleScreen();\n      });\n      return itemButton;\n    }\n\n    const createItemList = (items) => {\n      const itemListElement = document.createElement('div');\n      items.forEach(item => {\n        const itemElement = addItemButton(item);\n        itemListElement.appendChild(itemElement)\n      });\n      return itemListElement;\n    }\n    \n    const toggleScreen = () => {\n      document.querySelector('.wrapper').classList.toggle('wrapper-toggle');\n    }\n\n    const generateItemList = (itemList) => {\n      $itemContainer.innerHTML = '';\n      $itemContainer.appendChild(createItemList(itemList));\n    }\n\n    const filterList = (query) => {\n      const filteredArray = itemList.filter((item) => item.name.includes(query));\n      generateItemList(filteredArray);\n    }\n\n    const start = async () => {\n      await pokemonRepository.loadList();\n      itemList = pokemonRepository.getAll();\n      generateItemList(itemList);\n      $backButton.addEventListener('click', toggleScreen);\n      $search.addEventListener('keyup', (e) => filterList(e.target.value))\n    }\n\n    return {\n      start\n    }\n  })();\n\n  pageMethods.start();\n\n  \n  // Add event listener on search bar\n  // searchInput.addEventListener('keyup', searchItems);\n})();\n\n*/"]}