{"version":3,"sources":["js/scripts.js"],"names":["document","querySelector","searchInput","pokemonRepository","repository","apiUrl","add","addedPokemon","push","console","log","extractTypes","types","extractedTypes","forEach","type","getAll","loadList","fetch","then","response","json","results","item","name","detailsUrl","url","catch","e","error","loadDetails","data","imageUrl","sprites","front_default","height","pageMethods","itemList","itemShow","$itemContainer","getElementById","$detailsSection","$backButton","$search","createElement","element","classList","content","attr","el","c","textContent","setAttribute","atr","value","createOtherDetailElement","label","values","otherDetailElement","labelElement","valueBoxElement","valueElement","appendChild","createDetailsSection","detailSection","imageBoxElement","imageElement","src","createImageElement","detailsBodyElement","detailsName","otherBox","detailsTypes","map","detailsHeight","addItemButton","itemButton","itemText","addEventListener","loadItem","remove","toggleScreen","toggle","generateItemList","innerHTML","items","itemListElement","itemElement","createItemList","start","query","filteredArray","filter","includes","filterList","target"],"mappings":"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","file":"scripts.4ac2b786.js","sourceRoot":"..","sourcesContent":["(function() {\n  const searchInput = document.querySelector('.search-bar__input');\n\n  const pokemonRepository = (function() {\n    const repository = [];\n    const apiUrl = 'https://pokeapi.co/api/v2/pokemon/?limit=150';\n\n    // Repository Functions\n    // ********************\n\n    function add(addedPokemon) {\n      if (typeof addedPokemon === 'object') {\n        repository.push(addedPokemon);\n      } else {\n        // eslint-disable-next-line no-console\n        console.log('Must be an object');\n      }\n    }\n\n    function getAll() {\n      return repository;\n    }\n\n    function loadList() {\n      return fetch(apiUrl)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(json) {\n          // access results object within json and iterate\n          json.results.forEach(function(item) {\n            const pokemon = {\n              name: item.name,\n              detailsUrl: item.url,\n            };\n            add(pokemon);\n          });\n        })\n        .catch(function(e) {\n          // eslint-disable-next-line no-console\n          console.error(e);\n        });\n    }\n\n    function extractTypes(types) {\n      const extractedTypes = [];\n      types.forEach(type => {\n        extractedTypes.push(type.type);\n      });\n      return extractedTypes;\n    }\n\n    async function loadDetails(url) {\n      const response = await fetch(url);\n      const data = await response.json();\n      const item = { \n        name: data.name,\n        imageUrl: data.sprites.front_default,\n        types: extractTypes(data.types),\n        height: data.height / 10\n      };\n      return item;\n    }\n\n    return {\n      add,\n      getAll,\n      // search: search, // #TODO\n      loadList,\n      loadDetails,\n    };\n  })();\n\n  const pageMethods = (pageMethods => {\n    let itemList = [];\n    let itemShow = {};\n\n    // DOM Elements\n    const $itemContainer = document.getElementById('items-container');\n    const $detailsSection = document.querySelector('.details-section');\n    const $backButton = document.querySelector('.back');\n    const $search = document.querySelector('.search');\n\n    const createElement = (element, classList, content, attr) => {\n      const el = document.createElement(element);\n      classList.forEach((c) => {\n        el.classList.add(c);\n      });\n      if (content) {\n        el.textContent = content;\n      }\n      if (attr) {\n        el.setAttribute(attr.name, atr.value)\n      }\n      return el\n    }\n\n    const createImageElement = (src, classList) => {\n      const el = document.createElement('img');\n      classList.forEach((c) => {\n        el.classList.add(c);\n      });\n      el.setAttribute('src', src);\n      return el\n    }\n\n    const createOtherDetailElement = (label, values) => {\n      const otherDetailElement = createElement('div', ['other-detail']);\n      const labelElement = createElement('h3', ['other-detail__label'], label);\n      const valueBoxElement = createElement('div', ['other-detail__label']);\n      values.forEach((value) => {\n        const valueElement = createElement('p', ['other-detail__value'], value);\n        valueBoxElement.appendChild(valueElement);\n      });\n      otherDetailElement.appendChild(labelElement);\n      otherDetailElement.appendChild(valueBoxElement);\n      return otherDetailElement;\n    }\n\n    const createDetailsSection = (item) => {\n      const { imageUrl, name, types, height } = item;\n      const detailSection = createElement('div', ['details-container'])\n      const imageBoxElement = createElement('div', ['image-box']);\n      const imageElement = createImageElement(imageUrl, ['details-image']);\n      imageBoxElement.appendChild(imageElement);\n\n      const detailsBodyElement = createElement('div', ['details-body']);\n      const detailsName = createElement('h2', ['details-name'], name);\n      const otherBox = createElement('div', ['other-box']);\n      const detailsTypes = createOtherDetailElement('types', types.map((type) => type.name));\n      const detailsHeight = createOtherDetailElement('height', [height]);\n\n      otherBox.appendChild(detailsTypes);\n      otherBox.appendChild(detailsHeight);\n\n      detailsBodyElement.appendChild(detailsName);\n      detailsBodyElement.appendChild(otherBox);\n\n      detailSection.appendChild(imageBoxElement);\n      detailSection.appendChild(detailsBodyElement);\n      return detailSection;\n    }\n\n    const loadItem = async (item) => {\n      return await pokemonRepository.loadDetails(item.detailsUrl);\n    }\n\n    const addItemButton = (item) => {\n      const itemButton = createElement('button', ['item'])\n      const itemText = createElement('p', ['item-name'], item.name)\n      itemButton.appendChild(itemText);\n      itemButton.addEventListener('click', async function() {\n        itemShow = await loadItem(item);\n        document.querySelector('.details-container').remove();\n        $detailsSection.appendChild(createDetailsSection(itemShow));\n        toggleScreen();\n      });\n      return itemButton;\n    }\n\n    const createItemList = (items) => {\n      const itemListElement = document.createElement('div');\n      items.forEach(item => {\n        const itemElement = addItemButton(item);\n        itemListElement.appendChild(itemElement)\n      });\n      return itemListElement;\n    }\n    \n    const toggleScreen = () => {\n      document.querySelector('.wrapper').classList.toggle('wrapper-toggle');\n    }\n\n    const generateItemList = (itemList) => {\n      $itemContainer.innerHTML = '';\n      $itemContainer.appendChild(createItemList(itemList));\n    }\n\n    const filterList = (query) => {\n      const filteredArray = itemList.filter((item) => item.name.includes(query));\n      generateItemList(filteredArray);\n    }\n\n    const start = async () => {\n      await pokemonRepository.loadList();\n      itemList = pokemonRepository.getAll();\n      generateItemList(itemList);\n      $backButton.addEventListener('click', toggleScreen);\n      $search.addEventListener('keyup', (e) => filterList(e.target.value))\n    }\n\n    return {\n      start\n    }\n  })();\n\n  pageMethods.start();\n\n  \n  // Add event listener on search bar\n  // searchInput.addEventListener('keyup', searchItems);\n})();\n"]}